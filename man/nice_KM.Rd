% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/nice_KM.R
\name{nice_KM}
\alias{nice_KM}
\title{Function to generate Kaplan Meier survival plots for a given binary gene variable}
\usage{
nice_KM(
  data,
  gene,
  time_var,
  event_var,
  coord = NULL,
  title_prefix = "Mut ",
  colors = c("#1F8FFF", "#ED4D4D"),
  conf_int = TRUE,
  risk_table = FALSE,
  legend_pos = NULL,
  title_size = 24,
  axis_text = c(x = 18, y = 18),
  axis_title_size = c(x = 20, y = 20),
  legend_text = c(title = 18, labels = 16),
  pval_size = 6,
  returnData = FALSE
)
}
\arguments{
\item{data}{Data.frame. Must contain columns specified by \code{gene}, \code{time_var}, and \code{event_var}.}

\item{gene}{String. Name of the column in \code{data} indicating mutation status (values 'No'/'Yes').}

\item{time_var}{String. Name of the column for survival time.}

\item{event_var}{String. Name of the column for event indicator (0/1).}

\item{coord}{Numeric or NULL. X-coordinate at which to display the log-rank p-value. If NULL, placed at midpoint of time range.}

\item{title_prefix}{String. Prefix for the legend title. Default \code{"Mut "}.}

\item{colors}{Character vector of length 2. Two colors for the plot lines. Default \code{c("#1F8FFF", "#ED4D4D")}.}

\item{conf_int}{Logical. Whether to show confidence intervals. Default \code{TRUE}.}

\item{risk_table}{Logical. Whether to include risk-table below the plot. Default \code{FALSE}.}

\item{legend_pos}{Numeric vector of length 2 or NULL. X/Y inside-plot coordinates for legend placement. Default \code{NULL}.}

\item{title_size}{Numeric. Font size for the plot title.}

\item{axis_text}{Named numeric vector. Sizes for axis tick labels.}

\item{axis_title_size}{Named numeric vector. Sizes for axis titles.}

\item{legend_text}{Named numeric vector. Sizes for legend title and labels.}

\item{pval_size}{Numeric. Font size for the p-value annotation.}

\item{returnData}{Logical. If \code{TRUE}, returns a list with \code{km_fit} and \code{plot}; if \code{FALSE}, returns only the \code{ggplot} object. Default \code{FALSE}.}
}
\value{
A \code{ggplot} object (or a list with \code{km_fit} and \code{plot} if \code{returnData = TRUE}).
}
\description{
This function fits Kaplan Meier survival curves stratified by status (e.g., 'No' vs 'Yes') for a specified gene column in a data frame. It allows:
\itemize{
\item Automatic placement of the p-value at the midpoint of the time range (if coord = NULL).
\item Automatic handling of cases where only one category ('No' or 'Yes') is present, returning an 'empty' placeholder plot with a warning message.
}
}
